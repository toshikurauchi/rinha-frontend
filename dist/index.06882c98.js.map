{"mappings":"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","sources":["<anon>","src/index.js"],"sourcesContent":["(function () {\nvar $b8f9b7833fa37166$exports = {};\nconst $b8f9b7833fa37166$var$INDENT = \"    \";\nconst $b8f9b7833fa37166$var$PAGE_SIZE = 20; // Number of lines in each page\nconst $b8f9b7833fa37166$var$SHOW_PAGE_NUMBERS = 5; // Number of page numbers to show in pagination\n// Globals\nlet $b8f9b7833fa37166$var$lines = [];\nlet $b8f9b7833fa37166$var$totalPages = 0;\nfunction $b8f9b7833fa37166$var$showError(errorMsg) {\n    errorMsg.classList.add(\"visible\");\n    const loadJSONBtn = document.getElementById(\"load-json\");\n    loadJSONBtn.disabled = false;\n    const loadingIndicator = document.getElementById(\"loading-indicator\");\n    loadingIndicator.classList.add(\"hidden\");\n}\nfunction $b8f9b7833fa37166$var$hideError(errorMsg) {\n    errorMsg.classList.remove(\"visible\");\n}\nasync function $b8f9b7833fa37166$var$loadJSONFile(file, errorMsg) {\n    const stream = file.stream().pipeThrough(new TextDecoderStream());\n    const reader = stream.getReader();\n    let jsonString = \"\";\n    try {\n        while(true){\n            const { done: done, value: value } = await reader.read();\n            if (done) break;\n            jsonString += value;\n        }\n    } finally{\n        reader.releaseLock();\n    }\n    try {\n        const data = JSON.parse(jsonString);\n        const jsonViewer = $b8f9b7833fa37166$var$showObject(data, file.name);\n        const fileForm = document.querySelector(\".file-form\");\n        fileForm.classList.add(\"hidden\");\n        jsonViewer.classList.remove(\"hidden\");\n        if ($b8f9b7833fa37166$var$totalPages > 1) $b8f9b7833fa37166$var$showPagination();\n    } catch (e) {\n        console.log(e);\n        $b8f9b7833fa37166$var$showError(errorMsg);\n        return;\n    }\n}\nfunction $b8f9b7833fa37166$var$showPagination() {\n    const paginationContainer = document.querySelector(\".pagination-container\");\n    paginationContainer.classList.remove(\"hidden\");\n}\nfunction $b8f9b7833fa37166$var$registerPageListener(button, getNewPage) {\n    button.addEventListener(\"click\", (event)=>{\n        event.preventDefault();\n        const newPage = getNewPage();\n        $b8f9b7833fa37166$var$renderPage(newPage);\n    });\n}\nfunction $b8f9b7833fa37166$var$showObject(obj, filename) {\n    const section = document.getElementById(\"json-viewer\");\n    const title = document.getElementById(\"filename\");\n    $b8f9b7833fa37166$var$addText(title, filename);\n    $b8f9b7833fa37166$var$lines = $b8f9b7833fa37166$var$buildLines(obj);\n    $b8f9b7833fa37166$var$totalPages = Math.ceil($b8f9b7833fa37166$var$lines.length / $b8f9b7833fa37166$var$PAGE_SIZE);\n    $b8f9b7833fa37166$var$renderPage(0);\n    return section;\n}\nfunction $b8f9b7833fa37166$var$buildLines(obj) {\n    const lines = [];\n    const isArray = Array.isArray(obj);\n    let indentation = 0;\n    if (isArray) {\n        lines.push($b8f9b7833fa37166$var$newLine(indentation, null, null, true, \"[\"));\n        indentation++;\n    }\n    const newLines = $b8f9b7833fa37166$var$objToLines(obj, isArray, indentation);\n    newLines.forEach((line)=>lines.push(line));\n    // Can't do lines.push(...newLines); because it breaks for very large files\n    if (isArray) {\n        indentation--;\n        lines.push($b8f9b7833fa37166$var$newLine(indentation, null, null, true, \"]\"));\n    }\n    return lines;\n}\nfunction $b8f9b7833fa37166$var$newLine(indentation, key, value, isArray, bracket) {\n    return {\n        indentation: indentation,\n        key: key,\n        value: value,\n        isArray: isArray,\n        bracket: bracket\n    };\n}\nfunction $b8f9b7833fa37166$var$renderPage(pageIdx) {\n    const contentContainer = document.getElementById(\"content-container\");\n    contentContainer.innerHTML = \"\";\n    const startIdx = pageIdx * $b8f9b7833fa37166$var$PAGE_SIZE;\n    const endIdx = Math.min((pageIdx + 1) * $b8f9b7833fa37166$var$PAGE_SIZE, $b8f9b7833fa37166$var$lines.length);\n    for(let i = startIdx; i < endIdx; i++)$b8f9b7833fa37166$var$renderLine($b8f9b7833fa37166$var$lines[i], contentContainer);\n    $b8f9b7833fa37166$var$renderPagination(pageIdx);\n}\nfunction $b8f9b7833fa37166$var$renderPagination(pageIdx) {\n    const paginationContainer = document.getElementById(\"pagination-container\");\n    paginationContainer.innerHTML = \"\";\n    if (pageIdx > 0) {\n        $b8f9b7833fa37166$var$createPageLink(\"\\xab\", 0, pageIdx, paginationContainer, true);\n        $b8f9b7833fa37166$var$createPageLink(\"\\u2039\", pageIdx - 1, pageIdx, paginationContainer, true);\n    }\n    $b8f9b7833fa37166$var$createPageLink(1, 0, pageIdx, paginationContainer);\n    const pagesInEachSide = Math.floor(($b8f9b7833fa37166$var$SHOW_PAGE_NUMBERS - 1) / 2);\n    let startIdx = Math.max(0, pageIdx - pagesInEachSide);\n    if ($b8f9b7833fa37166$var$totalPages - pageIdx < pagesInEachSide) startIdx = Math.max(0, $b8f9b7833fa37166$var$totalPages - $b8f9b7833fa37166$var$SHOW_PAGE_NUMBERS);\n    const lastIdx = Math.min($b8f9b7833fa37166$var$totalPages - 2, startIdx + $b8f9b7833fa37166$var$SHOW_PAGE_NUMBERS - 1);\n    if (startIdx > 1) $b8f9b7833fa37166$var$createElement(\"span\", null, paginationContainer, \"...\");\n    for(let i = startIdx; i <= lastIdx; i++){\n        if (i === 0) continue;\n        $b8f9b7833fa37166$var$createPageLink(i + 1, i, pageIdx, paginationContainer);\n    }\n    if (lastIdx < $b8f9b7833fa37166$var$totalPages - 2) $b8f9b7833fa37166$var$createElement(\"span\", null, paginationContainer, \"...\");\n    $b8f9b7833fa37166$var$createPageLink($b8f9b7833fa37166$var$totalPages, $b8f9b7833fa37166$var$totalPages - 1, pageIdx, paginationContainer);\n    if (pageIdx < $b8f9b7833fa37166$var$totalPages - 1) {\n        $b8f9b7833fa37166$var$createPageLink(\"\\u203A\", pageIdx + 1, pageIdx, paginationContainer, true);\n        $b8f9b7833fa37166$var$createPageLink(\"\\xbb\", $b8f9b7833fa37166$var$totalPages - 1, pageIdx, paginationContainer, true);\n    }\n}\nfunction $b8f9b7833fa37166$var$createPageLink(text, pageIdx, currentPageIdx, parent, isSpecial) {\n    if (pageIdx === currentPageIdx) return $b8f9b7833fa37166$var$createElement(\"span\", null, parent, text);\n    else {\n        const className = isSpecial ? \"special\" : null;\n        const link = $b8f9b7833fa37166$var$createElement(\"a\", className, parent, text);\n        link.href = `?page=${pageIdx + 1}`;\n        $b8f9b7833fa37166$var$registerPageListener(link, ()=>pageIdx);\n        return link;\n    }\n}\nfunction $b8f9b7833fa37166$var$renderLine(line, contentElement) {\n    const lineElement = $b8f9b7833fa37166$var$createElement(\"div\", \"json-line\", contentElement);\n    $b8f9b7833fa37166$var$addIndentation(lineElement, line.indentation);\n    const container = $b8f9b7833fa37166$var$createElement(\"span\", \"content\", lineElement);\n    $b8f9b7833fa37166$var$addKey(container, line.key, line.isArray);\n    $b8f9b7833fa37166$var$addValue(container, line.value);\n    $b8f9b7833fa37166$var$addBracket(container, line.bracket);\n    return lineElement;\n}\nfunction $b8f9b7833fa37166$var$addIndentation(lineElement, indentation) {\n    for(let i = 0; i < indentation; i++)$b8f9b7833fa37166$var$createElement(\"span\", \"indent\", lineElement, $b8f9b7833fa37166$var$INDENT);\n}\nfunction $b8f9b7833fa37166$var$addKey(lineElement, key, isArray) {\n    if (!key) return;\n    const classList = [\n        \"json-key\"\n    ];\n    if (isArray) classList.push(\"array-idx\");\n    $b8f9b7833fa37166$var$createElement(\"span\", classList.join(\" \"), lineElement, `${key}: `);\n}\nfunction $b8f9b7833fa37166$var$addValue(lineElement, value) {\n    if (value === null) return;\n    $b8f9b7833fa37166$var$addText(lineElement, value);\n}\nfunction $b8f9b7833fa37166$var$addBracket(lineElement, bracket) {\n    if (!bracket) return;\n    $b8f9b7833fa37166$var$createElement(\"span\", \"bracket\", lineElement, bracket);\n}\nfunction $b8f9b7833fa37166$var$objToLines(obj, isArray, indentation) {\n    const lines = [];\n    for(const key in obj)if (obj.hasOwnProperty(key)) {\n        let value = obj[key];\n        if (value !== null && typeof value === \"object\") {\n            const isNewArray = Array.isArray(value);\n            lines.push($b8f9b7833fa37166$var$newLine(indentation, key, null, isArray, isNewArray ? \"[\" : null));\n            const newLines = $b8f9b7833fa37166$var$objToLines(value, isNewArray, indentation + 1);\n            newLines.forEach((line)=>lines.push(line));\n            if (isNewArray) lines.push($b8f9b7833fa37166$var$newLine(indentation, null, null, isArray, \"]\"));\n        } else {\n            if (value === null) value = \"null\";\n            else if (typeof value === \"string\") value = `\"${value}\"`;\n            else value = value.toString();\n            lines.push($b8f9b7833fa37166$var$newLine(indentation, key, value, isArray));\n        }\n    }\n    return lines;\n}\nfunction $b8f9b7833fa37166$var$createElement(tagName, className, parent, text) {\n    const element = document.createElement(tagName);\n    if (className) element.className = className;\n    if (parent) parent.appendChild(element);\n    if (text) $b8f9b7833fa37166$var$addText(element, text);\n    return element;\n}\nfunction $b8f9b7833fa37166$var$addText(parent, text) {\n    const textNode = document.createTextNode(text);\n    parent.appendChild(textNode);\n}\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    const fileInput = document.getElementById(\"upload-file-input\");\n    const loadJSONBtn = document.getElementById(\"load-json\");\n    const errorMsg = document.querySelector(\".error-msg\");\n    const loadingIndicator = document.getElementById(\"loading-indicator\");\n    fileInput.addEventListener(\"change\", ()=>{\n        $b8f9b7833fa37166$var$hideError(errorMsg);\n        if (fileInput.files.length === 0) return;\n        loadJSONBtn.disabled = true;\n        loadingIndicator.classList.remove(\"hidden\");\n        $b8f9b7833fa37166$var$loadJSONFile(fileInput.files[0], errorMsg);\n    });\n    loadJSONBtn.addEventListener(\"click\", ()=>{\n        fileInput.click();\n    });\n});\n\n})();\n//# sourceMappingURL=index.06882c98.js.map\n","const INDENT = \"    \";\nconst PAGE_SIZE = 20; // Number of lines in each page\nconst SHOW_PAGE_NUMBERS = 5; // Number of page numbers to show in pagination\n\n// Globals\nlet lines = [];\nlet totalPages = 0;\n\nfunction showError(errorMsg) {\n  errorMsg.classList.add(\"visible\");\n\n  const loadJSONBtn = document.getElementById(\"load-json\");\n  loadJSONBtn.disabled = false;\n\n  const loadingIndicator = document.getElementById(\"loading-indicator\");\n  loadingIndicator.classList.add(\"hidden\");\n}\n\nfunction hideError(errorMsg) {\n  errorMsg.classList.remove(\"visible\");\n}\n\nasync function loadJSONFile(file, errorMsg) {\n  const stream = file.stream().pipeThrough(new TextDecoderStream());\n  const reader = stream.getReader();\n  let jsonString = \"\";\n\n  try {\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) break;\n      jsonString += value;\n    }\n  } finally {\n    reader.releaseLock();\n  }\n\n  try {\n    const data = JSON.parse(jsonString);\n    const jsonViewer = showObject(data, file.name);\n    const fileForm = document.querySelector(\".file-form\");\n\n    fileForm.classList.add(\"hidden\");\n    jsonViewer.classList.remove(\"hidden\");\n    if (totalPages > 1) {\n      showPagination();\n    }\n  } catch (e) {\n    console.log(e);\n    showError(errorMsg);\n    return;\n  }\n}\n\nfunction showPagination() {\n  const paginationContainer = document.querySelector(\".pagination-container\");\n  paginationContainer.classList.remove(\"hidden\");\n}\n\nfunction registerPageListener(button, getNewPage) {\n  button.addEventListener(\"click\", (event) => {\n    event.preventDefault();\n    const newPage = getNewPage();\n    renderPage(newPage);\n  });\n}\n\nfunction showObject(obj, filename) {\n  const section = document.getElementById(\"json-viewer\");\n  const title = document.getElementById(\"filename\");\n  addText(title, filename);\n\n  lines = buildLines(obj);\n  totalPages = Math.ceil(lines.length / PAGE_SIZE);\n\n  renderPage(0);\n\n  return section;\n}\n\nfunction buildLines(obj) {\n  const lines = [];\n  const isArray = Array.isArray(obj);\n\n  let indentation = 0;\n  if (isArray) {\n    lines.push(newLine(indentation, null, null, true, \"[\"));\n    indentation++;\n  }\n\n  const newLines = objToLines(obj, isArray, indentation);\n  newLines.forEach((line) => lines.push(line));\n  // Can't do lines.push(...newLines); because it breaks for very large files\n\n  if (isArray) {\n    indentation--;\n    lines.push(newLine(indentation, null, null, true, \"]\"));\n  }\n\n  return lines;\n}\n\nfunction newLine(indentation, key, value, isArray, bracket) {\n  return {\n    indentation,\n    key,\n    value,\n    isArray,\n    bracket,\n  };\n}\n\nfunction renderPage(pageIdx) {\n  const contentContainer = document.getElementById(\"content-container\");\n  contentContainer.innerHTML = \"\";\n\n  const startIdx = pageIdx * PAGE_SIZE;\n  const endIdx = Math.min((pageIdx + 1) * PAGE_SIZE, lines.length);\n\n  for (let i = startIdx; i < endIdx; i++) {\n    renderLine(lines[i], contentContainer);\n  }\n\n  renderPagination(pageIdx);\n}\n\nfunction renderPagination(pageIdx) {\n  const paginationContainer = document.getElementById(\"pagination-container\");\n  paginationContainer.innerHTML = \"\";\n\n  if (pageIdx > 0) {\n    createPageLink(\"«\", 0, pageIdx, paginationContainer, true);\n    createPageLink(\"‹\", pageIdx - 1, pageIdx, paginationContainer, true);\n  }\n\n  createPageLink(1, 0, pageIdx, paginationContainer);\n\n  const pagesInEachSide = Math.floor((SHOW_PAGE_NUMBERS - 1) / 2);\n  let startIdx = Math.max(0, pageIdx - pagesInEachSide);\n  if (totalPages - pageIdx < pagesInEachSide) {\n    startIdx = Math.max(0, totalPages - SHOW_PAGE_NUMBERS);\n  }\n  const lastIdx = Math.min(totalPages - 2, startIdx + SHOW_PAGE_NUMBERS - 1);\n\n  if (startIdx > 1) {\n    createElement(\"span\", null, paginationContainer, \"...\");\n  }\n\n  for (let i = startIdx; i <= lastIdx; i++) {\n    if (i === 0) continue;\n    createPageLink(i + 1, i, pageIdx, paginationContainer);\n  }\n\n  if (lastIdx < totalPages - 2) {\n    createElement(\"span\", null, paginationContainer, \"...\");\n  }\n\n  createPageLink(totalPages, totalPages - 1, pageIdx, paginationContainer);\n\n  if (pageIdx < totalPages - 1) {\n    createPageLink(\"›\", pageIdx + 1, pageIdx, paginationContainer, true);\n    createPageLink(\"»\", totalPages - 1, pageIdx, paginationContainer, true);\n  }\n}\n\nfunction createPageLink(text, pageIdx, currentPageIdx, parent, isSpecial) {\n  if (pageIdx === currentPageIdx) {\n    return createElement(\"span\", null, parent, text);\n  } else {\n    const className = isSpecial ? \"special\" : null;\n    const link = createElement(\"a\", className, parent, text);\n    link.href = `?page=${pageIdx + 1}`;\n    registerPageListener(link, () => pageIdx);\n    return link;\n  }\n}\n\nfunction renderLine(line, contentElement) {\n  const lineElement = createElement(\"div\", \"json-line\", contentElement);\n\n  addIndentation(lineElement, line.indentation);\n\n  const container = createElement(\"span\", \"content\", lineElement);\n  addKey(container, line.key, line.isArray);\n  addValue(container, line.value);\n  addBracket(container, line.bracket);\n\n  return lineElement;\n}\n\nfunction addIndentation(lineElement, indentation) {\n  for (let i = 0; i < indentation; i++) {\n    createElement(\"span\", \"indent\", lineElement, INDENT);\n  }\n}\n\nfunction addKey(lineElement, key, isArray) {\n  if (!key) return;\n  const classList = [\"json-key\"];\n  if (isArray) classList.push(\"array-idx\");\n  createElement(\"span\", classList.join(\" \"), lineElement, `${key}: `);\n}\n\nfunction addValue(lineElement, value) {\n  if (value === null) return;\n  addText(lineElement, value);\n}\n\nfunction addBracket(lineElement, bracket) {\n  if (!bracket) return;\n  createElement(\"span\", \"bracket\", lineElement, bracket);\n}\n\nfunction objToLines(obj, isArray, indentation) {\n  const lines = [];\n\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      let value = obj[key];\n\n      if (value !== null && typeof value === \"object\") {\n        const isNewArray = Array.isArray(value);\n        lines.push(\n          newLine(indentation, key, null, isArray, isNewArray ? \"[\" : null)\n        );\n        const newLines = objToLines(value, isNewArray, indentation + 1);\n        newLines.forEach((line) => lines.push(line));\n        if (isNewArray) {\n          lines.push(newLine(indentation, null, null, isArray, \"]\"));\n        }\n      } else {\n        if (value === null) {\n          value = \"null\";\n        } else if (typeof value === \"string\") {\n          value = `\"${value}\"`;\n        } else {\n          value = value.toString();\n        }\n\n        lines.push(newLine(indentation, key, value, isArray));\n      }\n    }\n  }\n\n  return lines;\n}\n\nfunction createElement(tagName, className, parent, text) {\n  const element = document.createElement(tagName);\n  if (className) {\n    element.className = className;\n  }\n  if (parent) {\n    parent.appendChild(element);\n  }\n  if (text) {\n    addText(element, text);\n  }\n\n  return element;\n}\n\nfunction addText(parent, text) {\n  const textNode = document.createTextNode(text);\n  parent.appendChild(textNode);\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const fileInput = document.getElementById(\"upload-file-input\");\n  const loadJSONBtn = document.getElementById(\"load-json\");\n  const errorMsg = document.querySelector(\".error-msg\");\n  const loadingIndicator = document.getElementById(\"loading-indicator\");\n\n  fileInput.addEventListener(\"change\", () => {\n    hideError(errorMsg);\n    if (fileInput.files.length === 0) {\n      return;\n    }\n    loadJSONBtn.disabled = true;\n    loadingIndicator.classList.remove(\"hidden\");\n    loadJSONFile(fileInput.files[0], errorMsg);\n  });\n\n  loadJSONBtn.addEventListener(\"click\", () => {\n    fileInput.click();\n  });\n});\n"],"names":["$b8f9b7833fa37166$var$lines","$b8f9b7833fa37166$var$totalPages","$b8f9b7833fa37166$var$loadJSONFile","file","errorMsg","stream","pipeThrough","TextDecoderStream","reader","getReader","jsonString","done","value","read","releaseLock","data","JSON","parse","jsonViewer","$b8f9b7833fa37166$var$showObject","obj","filename","section","document","getElementById","title","$b8f9b7833fa37166$var$addText","Math","ceil","$b8f9b7833fa37166$var$buildLines","lines","isArray","Array","indentation","push","$b8f9b7833fa37166$var$newLine","newLines","$b8f9b7833fa37166$var$objToLines","key","hasOwnProperty","isNewArray","forEach","line","toString","length","$b8f9b7833fa37166$var$renderPage","name","fileForm","querySelector","classList","add","remove","$b8f9b7833fa37166$var$showPagination","paginationContainer","e","console","log","$b8f9b7833fa37166$var$showError","loadJSONBtn","disabled","loadingIndicator","bracket","pageIdx","contentContainer","innerHTML","startIdx","endIdx","min","i","$b8f9b7833fa37166$var$renderLine","contentElement","lineElement","$b8f9b7833fa37166$var$createElement","$b8f9b7833fa37166$var$addIndentation","container","$b8f9b7833fa37166$var$addKey","join","$b8f9b7833fa37166$var$renderPagination","$b8f9b7833fa37166$var$createPageLink","pagesInEachSide","floor","max","lastIdx","text","currentPageIdx","parent","isSpecial","link","href","$b8f9b7833fa37166$var$registerPageListener","button","getNewPage","addEventListener","event","preventDefault","newPage","tagName","className","element","createElement","appendChild","textNode","createTextNode","fileInput","$b8f9b7833fa37166$var$hideError","files","click"],"version":3,"file":"index.06882c98.js.map"}